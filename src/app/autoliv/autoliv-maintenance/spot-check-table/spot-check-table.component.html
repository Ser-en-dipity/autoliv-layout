<nz-page-header class="header">

  <nz-page-header-content>
    <div class="content">
      <div class="main">
        <nz-descriptions nzSize="middle" [nzColumn]="2">
          <nz-descriptions-item nzTitle="机台编号">{{ machineCode }}</nz-descriptions-item>

          <nz-descriptions-item nzTitle="日期">{{ dateNow | date:"shortDate" }}</nz-descriptions-item>
        </nz-descriptions>
      </div>
    </div>
  </nz-page-header-content>
</nz-page-header>

<nz-table
  #spotCheckTable
  [nzSize]="'middle'"
  [nzData]="spotTableData"
  [nzBordered]="true"
  [nzPageSizeOptions]="[20, 40, 60, 80, 100, 1000]"
  [nzShowSizeChanger]="true"
  [nzPageSize]="100"
>
  <thead>
    <tr>
      <th rowspan="2">No.</th>
      <th rowspan="2">特殊特性</th>
      <th rowspan="2">点检事项</th>
      <th rowspan="2">设定值</th>
      <th rowspan="2">点检方法</th>
      <th colspan="31">日期</th>
    </tr>
    <tr>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
    </tr>
  </thead>

  <tbody>
    @for (item of spotCheckTable.data; track item) {
      <tr>
        <td>{{ item.id }}</td>
        <td>{{ item.spec }}</td>
        <td>{{ item.spotItem }}</td>
        <td>{{ item.setpoint }}</td>
        <td>
          <a (click)="onClickNavigateToDoc()" style="color:blue">
            {{item.spotMethod}}
          </a>
        </td>
        @if (isDateMatch[0]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[0]" /></td>
        }
        @else {
          <td>{{ item.date_pair[0] }}</td>
        }
        @if (isDateMatch[1]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[1]" /></td>
        }
        @else {
          <td>{{ item.date_pair[1] }}</td>
        }
        @if (isDateMatch[2]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[2]" /></td>
        }
        @else {
          <td>{{ item.date_pair[2] }}</td>
        }
        @if (isDateMatch[3]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[3]" /></td>
        }
        @else {
          <td>{{ item.date_pair[3] }}</td>
        }
        @if (isDateMatch[4]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[4]" /></td>
        }
        @else {
          <td>{{ item.date_pair[4] }}</td>
        }
        @if (isDateMatch[5]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[5]" /></td>
        }
        @else {
          <td>{{ item.date_pair[5] }}</td>
        }
        @if (isDateMatch[6]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[6]" /></td>
        }
        @else {
          <td>{{ item.date_pair[6] }}</td>
        }
        @if (isDateMatch[7]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[7]" /></td>
        }
        @else {
          <td>{{ item.date_pair[7] }}</td>
        }
        @if (isDateMatch[8]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[8]" /></td>
        }
        @else {
          <td>{{ item.date_pair[8] }}</td>
        }
        @if (isDateMatch[9]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[9]" /></td>
        }
        @else {
          <td>{{ item.date_pair[9] }}</td>
        }
        @if (isDateMatch[10]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[10]" /></td>
        }
        @else {
          <td>{{ item.date_pair[10] }}</td>
        }
        @if (isDateMatch[11]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[11]" /></td>
        }
        @else {
          <td>{{ item.date_pair[11] }}</td>
        }
        @if (isDateMatch[12]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[12]" /></td>
        }
        @else {
          <td>{{ item.date_pair[12] }}</td>
        }
        @if (isDateMatch[13]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[13]" /></td>
        }
        @else {
          <td>{{ item.date_pair[13] }}</td>
        }
        @if (isDateMatch[14]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[14]" /></td>
        }
        @else {
          <td>{{ item.date_pair[14] }}</td>
        }
        @if (isDateMatch[15]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[15]" /></td>
        }
        @else {
          <td>{{ item.date_pair[15] }}</td>
        }
        @if (isDateMatch[16]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[16]" /></td>
        }
        @else {
          <td>{{ item.date_pair[16] }}</td>
        }
        @if (isDateMatch[17]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[17]" /></td>
        }
        @else {
          <td>{{ item.date_pair[17] }}</td>
        }
        @if (isDateMatch[18]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[18]" /></td>
        }
        @else {
          <td>{{ item.date_pair[18] }}</td>
        }
        @if (isDateMatch[19]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[19]" /></td>
        }
        @else {
          <td>{{ item.date_pair[19] }}</td>
        }
        @if (isDateMatch[20]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[20]" /></td>
        }
        @else {
          <td>{{ item.date_pair[20] }}</td>
        }
        @if (isDateMatch[21]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[21]" /></td>
        }
        @else {
          <td>{{ item.date_pair[21] }}</td>
        }
        @if (isDateMatch[22]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[22]" /></td>
        }
        @else {
          <td>{{ item.date_pair[22] }}</td>
        }
        @if (isDateMatch[23]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[23]" /></td>
        }
        @else {
          <td>{{ item.date_pair[23] }}</td>
        }
        @if (isDateMatch[24]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[24]" /></td>
        }
        @else {
          <td>{{ item.date_pair[24] }}</td>
        }
        @if (isDateMatch[25]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[25]" /></td>
        }
        @else {
          <td>{{ item.date_pair[25] }}</td>
        }
        @if (isDateMatch[26]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[26]" /></td>
        }
        @else {
          <td>{{ item.date_pair[26] }}</td>
        }
        @if (isDateMatch[27]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[27]" /></td>
        }
        @else {
          <td>{{ item.date_pair[27] }}</td>
        }
        @if (isDateMatch[28]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[28]" /></td>
        }
        @else {
          <td>{{ item.date_pair[28] }}</td>
        }
        @if (isDateMatch[29]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[29]" /></td>
        }
        @else {
          <td>{{ item.date_pair[29] }}</td>
        }
        @if (isDateMatch[30]) { 
          <td><input type="text" nz-input [(ngModel)]="editCache[item.id].data.date_pair[30]" /></td>
        }
        @else {
          <td>{{ item.date_pair[30] }}</td>
        }
          
      </tr>
    }
  </tbody>
</nz-table>

<div *nzModalFooter>
  <button nz-button nzType="primary" (click)="onClickSave()">保存</button>
  <button nz-button nzType="primary" (click)="onClickOk()">确定</button>
  <button nz-button nzType="default" (click)="onClickCancel()">取消</button>
</div>
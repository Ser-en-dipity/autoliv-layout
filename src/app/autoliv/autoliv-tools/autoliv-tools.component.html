<nz-page-header class="header">
  <nz-page-header-title>程序、刀具</nz-page-header-title>
  <nz-page-header-extra>
    <!-- <nz-upload
      nzAction="/api/Files?bucket=icnc-erp-autoliv-spec" nzAccept="application/pdf"
      [nzShowButton]="true" (nzChange)="onUploadProgram($event)" [nzPreview]="handlePreview"
    >
      <button nz-button>
        <span nz-icon nzType="upload"></span>
        上传程序
      </button>
    </nz-upload> -->
    <button nz-button nzType="primary" (click)="onClickUploadNewProgram()">
      <span nz-icon nzType="plus"></span>
      新建程序
    </button>
  </nz-page-header-extra>
</nz-page-header>

<nz-card class="form-card" [nzBordered]="false">
    <nz-table
      #programsTable
      [nzSize]="'middle'"
      [nzData]="data"
      [nzBordered]="true"
      [nzPageSizeOptions]="[20, 40, 60, 80, 100, 1000]"
      [nzShowSizeChanger]="true"
      [nzPageSize]="100"
    >
      <thead>
        <tr>
          <th>日期</th>
          <th>程序号</th>
          <th>加工时间</th>
        </tr>
      </thead>
  
      <tbody>
        <tr *ngFor="let item of programsTable.data">
          <td>{{ item.entryTime }}</td>
          <td>
            <a (click)="onClickNavigateToDoc(item)" style="color:blue">
              {{item.code}}
            </a>
          </td>
          
          <td>{{ item.processDuration }}</td>
        </tr>
      </tbody>
    </nz-table>
</nz-card>

<ng-container>
	<nz-card class="form-card" nzTitle="加工工艺流程">
    <div style="text-align: right">
      <button nz-button nzType="primary" (click)="onClickNavigateToCraftFlow()">
        加工工艺流程
      </button>
      <nz-divider nzType="vertical"></nz-divider>
      <nz-upload
          nzAction="/api/Files?bucket=icnc-erp-autoliv-spec"
          nzAccept="application/pdf"
          [nzShowButton]="true"
          (nzChange)="onUploadProcessFlow($event)"
          [nzPreview]="handlePreview"
        >
        <button nz-button>
          <span nz-icon nzType="upload"></span>
          上传
        </button>
      </nz-upload>
    </div>
  </nz-card>

  <nz-card class="form-card" nzTitle="刀具BOM表，刀具寿命，安全库存">
    <div style="text-align: right">
      <button nz-button nzType="primary" (click)="onClickNavigateToToolBom()">
        刀具BOM表
      </button>
      <nz-divider nzType="vertical"></nz-divider>
      <nz-upload
          nzAction="/api/Files?bucket=icnc-erp-autoliv-spec"
          nzAccept="application/pdf"
          [nzShowButton]="true"
          (nzChange)="onUploadToolBom($event)"
          [nzPreview]="handlePreview"
        >
        <button nz-button>
          <span nz-icon nzType="upload"></span>
          上传
        </button>
      </nz-upload>
    </div>
  </nz-card>

</ng-container>


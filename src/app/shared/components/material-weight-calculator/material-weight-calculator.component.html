<form nz-form [formGroup]="calcForm">
  <nz-form-item>
    <nz-form-label nzRequired [nzXs]="6">形状</nz-form-label>
    <nz-form-control [nzXs]="12">
      <nz-select formControlName="shape">
        <nz-option
          *ngFor="let s of ShapeOptions"
          [nzValue]="s"
          [nzLabel]="s.toString()"
        ></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="6">材质</nz-form-label>
    <nz-form-control [nzSpan]="12">
      <nz-select formControlName="material">
        <nz-option
          *ngFor="let m of MaterialOptions"
          [nzValue]="m"
          [nzLabel]="m.toString()"
        ></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="6">外径(mm)</nz-form-label>
    <nz-form-control nzHasFeedback [nzErrorTip]="odErrTpl" [nzSpan]="12">
      <input nz-input formControlName="outerDiameter" />
    </nz-form-control>
    <ng-template #odErrTpl>
      <ng-container *ngIf="outerDiameter.hasError('pattern')">
        请输入有效数字
      </ng-container>
    </ng-template>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="6">内径(mm)</nz-form-label>
    <nz-form-control nzHasFeedback [nzErrorTip]="idErrTpl" [nzSpan]="12">
      <input nz-input formControlName="innerDiameter" />
    </nz-form-control>
    <ng-template #idErrTpl>
      <ng-container *ngIf="innerDiameter.hasError('pattern')">
        请输入有效数字
      </ng-container>
    </ng-template>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="6">长度(mm)</nz-form-label>
    <nz-form-control nzHasFeedback [nzErrorTip]="lErrTpl" [nzSpan]="12">
      <input nz-input formControlName="length" />
    </nz-form-control>
    <ng-template #lErrTpl>
      <ng-container *ngIf="length.hasError('pattern')">
        请输入有效数字
      </ng-container>
    </ng-template>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="6">数量(根)</nz-form-label>
    <nz-form-control nzHasFeedback [nzErrorTip]="nErrTpl" [nzSpan]="12">
      <input nz-input formControlName="number" />
    </nz-form-control>
    <ng-template #nErrTpl>
      <ng-container *ngIf="number.hasError('pattern')">
        请输入有效数字
      </ng-container>
    </ng-template>
  </nz-form-item>
</form>

<nz-divider></nz-divider>
<div class="number-box">
  <nz-statistic
    [nzValue]="(this.unitWeight | number: '1.3-5')!"
    [nzTitle]="'单位重量 (kg)'"
  ></nz-statistic>
  <nz-statistic
    [nzValue]="(this.weight | number: '1.2-3')!"
    [nzTitle]="'总重量 (kg)'"
  ></nz-statistic>
</div>

<div *nzModalFooter>
  <button nz-button nzType="primary" (click)="calc()">计算</button>
  <button nz-button nzType="default" (click)="onClickCancel()">关闭</button>
</div>
